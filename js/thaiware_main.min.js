function init(){$(".disabled,.disabled2").focus(function(){this.blur()}),$(".numbers").keyup(function(){numbers_digit()}),numbers_digit(),checkbox_init(),link_blank_init(),search_box_init()}function preload(e){var t=new Array;t=e.split(",");var a=new Image;for(i=0;i<=t.length-1;i++)a.src=t[i]}function tip(e,t,i){"tip"==t&&$(e).qtip({content:i,position:{my:"left center",at:"right center"},style:{tip:{corner:!0},classes:"qtip-green"},show:{event:"mouseenter"},hide:{event:"mouseleave"}}),"input_error"==t?$(e).qtip({content:i,position:{my:"left center",at:"right center"},style:{tip:{corner:!0},classes:"qtip-red"},show:{event:"focus"},hide:{event:"blur"}}):"area_error"==t&&$(e).qtip({content:i,position:{target:$(e),my:"left center",at:"right center"},style:{tip:{corner:!0},classes:"qtip-red"},show:{event:"mouseenter"},hide:{event:"mouseleave"}})}function load_page(url,div_id,progress_id,scrollto,complete_func){progress(progress_id),$.get(url,{},function(data){"session_timeout"!=data?(progress(progress_id,""),$("#"+div_id).html(data),""!=complete_func&&eval(complete_func+"();"),scrollto&&(divOffset=$("#"+div_id).offset().top,$("html,body").animate({scrollTop:divOffset-10},400)),init(),"undefined"!=typeof notifications_function&&$.isFunction(notifications_function)&&notifications_function()):window.location.assign(pre_dir+"login.php")})}function load_form(e){return null==e?($("#content_body").show(),$("#content_form").hide(),$(".content_tool .right").removeClass("fixed_menu"),$(window).unbind("scroll")):($("#content_body").hide(),$("#content_form").show(),$("#content_form").html(e)),!0}function progress(e,t){null==t?$(e).html('<div style="text-align:center"><img src="'+url_script+'jquery/images/loading.gif" alt="" /></div>'):$(e).html(t),clearTimeout(progress_time)}function tabSwitch(e,t){var i;$("#"+e+" a").removeClass("selected"),$("#"+e+" a[href=#"+t+"]").addClass("selected"),$("#"+e+" a").each(function(){i=this.toString().split("#"),i=i[1],$("#"+i).hide(),t==i&&$("#"+t).show()})}function tabAutoSwitch(e,t){var i,a;void 0==tab_selected[e]&&void 0==tab_num[e]&&(tab_selected[e]=null,tab_num[e]=null),null==tab_selected[e]&&null==tab_num[e]&&(tab_selected[e]=$("#"+e+" a:.selected").index(),tab_num[e]=$("#"+e+" a").length,$("#"+e+" a").click(function(){tab_selected[e]="-1"})),setTimeout(function(){"-1"!=tab_selected[e]&&(i=tab_selected[e]+1<tab_num[e]?tab_selected[e]+1:0,tab_selected[e]=i,a=$("#"+e+" a").eq(i).prop("href").split("#"),tabSwitch(e,a[1]),tabAutoSwitch(e,t))},t)}function modal_open(e,t,i){$.get(e,{id:t},function(e){"session_timeout"!=e?($(e).modal({maxWidth:i,onClose:modal_close}),init()):window.location.assign(pre_dir+"login.php")})}function modal_close(){$.modal.close()}function checkbox_init(){$(".check_all").click(function(){$(".check_all").prop("checked")?$(".check").prop("checked","checked"):$(".check").removeAttr("checked")}),$(".check").click(function(){var e=!0;$(this).each(function(){0==$(this).prop("checked")&&(e=!1)}),0==e?$(".check_all").removeAttr("checked"):$(".check:checked").length==$(".check").length&&$(".check_all").prop("checked","checked")})}function tool_checkbox(e,t,i,a,o){0==$(".check:checked").length?(clearTimeout(progress_time),progress_time=setTimeout("progress('"+a+"','')",5e3),progress(a,"กรุณาเลือกข้อมูลที่ต้องการ")):($(".check:checked").each(function(t){0!=t&&(e+=","),e+=$(this).val()}),tool_confirm(e,t,i,a,o))}function tool_confirm(url,url_b,text,progress_id,complete_func){confirm(text)&&(""!=url_b&&(url_before=url_b),progress(progress_id),$(".check,.check_all").prop("disabled","disabled"),$.get(encodeURI(url),{},function(data){"success"==data?(progress(progress_id,""),""!=complete_func&&eval(complete_func+"();")):"session_timeout"==data?window.location.assign(pre_dir+"login.php"):progress(progress_id,data),$(".check,.check_all").removeAttr("disabled")}))}function numbers_digit(){var e,t;$(".numbers").each(function(i){"INPUT"==$(this)[0].tagName?($(this).val($(this).val().replace(/,/g,"").replace(/[^0-9\.]/g,"")),""!=$(this).val()&&(e=$(this).val().split("."),e.length>1?(t=1*e[0]+"",t=t.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),$(this).val(t+"."+e[1].replace(/,/g,"").substring(0,2))):($(this).val(1*$(this).val()),$(this).val($(this).val().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))))):($(this).text().replace(/,/g,"")<0?($(this).addClass("numbers_error"),$(this).text($(this).text().replace(/,/g,"").replace(/[^0-9\.-]/g,"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))):($(this).removeClass("numbers_error"),$(this).text($(this).text().replace(/,/g,"").replace(/[^0-9\.-]/g,"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))),""!=$(this).text()&&$(this).text(number_curency($(this).text())))}),$(".curency").each(function(){"INPUT"==$(this)[0].tagName&&($(this).val($(this).val().replace(/,/g,"").replace(/[^0-9\.]/g,"")),""==$(this).val()&&$(this).val(1*$(this).val()))})}function number_curency(e){return/\.[0-9]$/.test(e)?e+="0":/\.$/.test(e)?e+="00":/\.[0-9]{2}$/.test(e)||(e+=".00"),e}function textEditor_init(e,t,i){CKEDITOR.timestamp=timestamp;var a={toolbar:[["FontSize","-"],["Format","-"],["Link","Unlink","-","HorizontalRule","Image","Table","SpecialChar","-"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo","-"],["Find","Replace","-"],"/",["Bold","Italic","Underline","Strike","Subscript","Superscript","RemoveFormat","-"],["TextColor","BGColor","-"],["NumberedList","BulletedList","Outdent","Indent","-","Blockquote","-"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-"],["Preview","Maximize","-","Source","-"],"/",["Spoil","ImageSlider","TwoColumn","simplebutton","-"]],height:t,extraPlugins:"font,preview,wordcount,notification,tw_plugins,quicktable,simplebutton",allowedContent:!0,removePlugins:"bbcode",format_tags:"p;h2;h3;pre;address;div",language:"en",keystrokes:[[CKEDITOR.CTRL+CKEDITOR.SHIFT+86,""]]};"undefined"!=typeof i?$(e).ckeditor(i,a):$(e).ckeditor(a)}function textEditorMember_init(e,t){CKEDITOR.timestamp=timestamp;var i={toolbar:[["FontSize","-"],["Link","Unlink","-"],["HorizontalRule","Image","Table","SpecialChar","-"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo","-"],["Preview","Maximize","-"],"/",["Bold","Italic","Strike","RemoveFormat","-"],["TextColor","BGColor","-"],["NumberedList","BulletedList","Outdent","Indent","-","Blockquote","-"],["JustifyLeft","JustifyCenter","-"],["Spoil","ImageSlider","TwoColumn","-"],["About","-"]],height:t,extraPlugins:"font,preview,wordcount,notification,tw_plugins",allowedContent:!0,removePlugins:"bbcode",format_tags:"p;h2;h3;pre;address;div",language:"en",keystrokes:[[CKEDITOR.CTRL+CKEDITOR.SHIFT+86,""]]};$(e).ckeditor(i)}function textEditorBBCode_init(e,t){CKEDITOR.timestamp=timestamp;var i={toolbar:[["Bold","Italic","Strike","RemoveFormat","-"],["TextColor","BGColor","-"],["HorizontalRule","-"],["NumberedList","BulletedList","Outdent","Indent","-","Blockquote","-"],["JustifyLeft","JustifyCenter","-"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo","-"],["Preview","Maximize","-"],["Spoil","ImageSlider","TwoColumn","-"],["About","-"]],height:t,extraPlugins:"preview,wordcount,notification,tw_plugins",allowedContent:!0,format_tags:"p;h2;h3;pre;address;div",language:"en",keystrokes:[[CKEDITOR.CTRL+CKEDITOR.SHIFT+86,""]]};$(e).ckeditor(i)}function textEditor_data(e,t,i){if("get"==e)return CKEDITOR.instances[t].getData();if("add"==e)CKEDITOR.instances[t].setData(CKEDITOR.instances[t].getData()+i);else if("insert"==e)CKEDITOR.instances[t].insertHtml(i);else if("set"==e)CKEDITOR.instances[t].setData(i);else if("insertselection"==e){var a=CKEDITOR.instances[t].getSelection().getSelectedText();CKEDITOR.instances[t].insertHtml("[spoil]"+a+"[/spoil]")}}function textEditor_beforeSubmit(e,t){var i=textEditor_data("get",t);$("div[id=ckeditor_html]").remove();try{$("#"+e).append('<div id="ckeditor_html">'+i+"</div>"),$("#ckeditor_html img").css({"max-width":"95%"}),$("#ckeditor_html div.spoiler div.spoiler-title div.hide-icon").removeClass("hide-icon").addClass("show-icon"),$("#ckeditor_html div.spoiler div.spoiler-content").hide(),i=$("#ckeditor_html").html(),textEditor_data("set",t,i)}catch(a){alert(a)}$("#ckeditor_html").remove()}function textEditor_destroy(e){$(e).ckeditor(function(){this.destroy()})}function textbox_data(e,t,i){var a=$("#keyword").val();keywords=a+i,"insert"==e&&$("#keyword").val(keywords)}function link_blank_init(){$("._blank").prop("target","_blank")}function open_window(e,t,i,a){x=screen.width/2-t/2,y=screen.height/2-i/2,"yes"!=a&&(a="no"),ipwindow=open("","","fullscreen=no,resizable=yes,scrollbars="+a+",toolbar=no,menubar=no,width="+t+",height="+i+",left="+x+",top="+y),ipwindow.location.assign(e)}function textarea_maxlength(e,t,i){$(e).val().length>t&&$(e).val($(e).val().substring(0,t)),"undefined"!=i&&""!=i&&$("#"+i).html($(e).val().length)}function search_box_init(){search_box(),$("#search_box").submit(function(){return search_box_submit()}),$("#search_box input[name=q]").removeAttr("onfocus"),$("#search_box input[name=q]").focus(function(){search_box()}),$("#search_box input[name=q]").blur(function(){search_box()})}function search_box(){""==$("#search_box input[name=q]").val()?$("#search_box input[name=q]").css("color","#999").val("ใส่คำค้นหาที่นี่"):"ใส่คำค้นหาที่นี่"==$("#search_box input[name=q]").val()?($("#search_box input[name=q]").css("color","#000").val(""),$("#search_option,#search_q_title").fadeIn()):$("#search_option,#search_q_title").fadeIn()}function search_box_submit(){return $("#search_box").hasClass("modrewrite")?("ใส่คำค้นหาที่นี่"!=$("#search_box input[name=q]").val()&&""!=$("#search_box input[name=q]").val()&&$("#search_box").prop("action",$("#search_box").prop("action")+$("#search_box input[name=q]").val()),$("#search_box input[name=q]").prop("disabled","disabled")):"ใส่คำค้นหาที่นี่"!=$("#search_box input[name=q]").val()&&""!=$("#search_box input[name=q]").val()||$("#search_box input[name=q]").prop("disabled","disabled"),$("#search_box input[name=btn_search]").prop("disabled","disabled"),$("#search_box select option:selected").each(function(){0==$(this).val()&&$(this).parent().prop("disabled","disabled")}),!0}function selectAllText(e){e.focus(),e.select()}function zoomText(e,t){var i="9",a="30",o=parseInt($(e).css("font-size"));"-"==t?o>i&&(o-=4,$(e).css("font-size",o+"px")):"+"==t&&o<a&&(o+=4,$(e).css("font-size",o+"px"))}function slide_menu(){$("span.iTopic").mouseover(function(){$(this).children("img").animate({"margin-left":"5px"},"fast")}).mouseout(function(){$(this).children("img").stop(!0).animate({"margin-left":"0px"},"fast")}).click(function(){$("span.iTopic").removeClass("active").children("img").prop("src","https://images.thaiware.com/icon_bullet_right.gif"),id=$(this).prop("id").substr(6),height=$("#iDetail"+id)[0].scrollHeight,$(".iDetail").animate({height:"1px",opacity:0},"fast"),id!=slide_menu_lastClick?($(this).addClass("active"),$("#iDetail"+id).animate({height:height,opacity:1},"fast"),$("#iTopic"+id).children("img").prop("src","https://images.thaiware.com/icon_bullet_down.gif"),slide_menu_lastClick=id):slide_menu_lastClick=""})}function address_selection(e){function t(e,t,a){var o=t.ajax_url,r="undefined"!=typeof t.zipcode&&"undefined"!=typeof t.zipcode.selector,s=t.district_on;o.indexOf("?")<0&&(o+="?"),e=e.toLowerCase(),$(t.province.selector+","+t.amphur.selector+(s?","+t.district.selector:"")+(r?","+t.zipcode.selector:"")).prop("disabled",!0);var n=!0;return"amphur"==e?n=$(t.province.selector+" option:selected").val():"district"==e?n=$(t.amphur.selector+" option:selected").val():r&&"zipcode"==e?n=$(t.zipcode.selector).val():"district_change"==e&&(n=$(t.district.selector).val()),"province"!=e&&n>0||"province"==e?$.getJSON(o+"&get_"+e+"=1"+(n>0?"&id="+n:""),function(a){"undefined"==typeof a.error||0==a.error?r&&"zipcode"==e?("undefined"!=typeof a.status&&"success"==a.status&&($(t.province.selector).val(a.province_id),$(t.amphur.selector).html(a.html.amphur).val(a.amphur_id),s&&$(t.district.selector).html(a.html.district).val(a.district_id)),$(t.province.selector).prop("disabled",!1),$(t.province.selector+" option:selected").val()>0&&$(t.amphur.selector).prop("disabled",!1),$(t.amphur.selector+" option:selected").val()>0&&$(t.district.selector).prop("disabled",!1)):"district_change"==e?r&&void 0!==a.zipcode&&$.isNumeric(a.zipcode)&&$(t.zipcode.selector).val(a.zipcode):$(t[e].selector).html(a.html):i("Failed to get "+e+" list")}).always(function(){r&&$(t.zipcode.selector).prop("disabled",!1),"undefined"!=typeof a&&a||("province"==e?($(t.province.selector).prop("disabled",!1),$(t.amphur.selector+(s?","+t.district.selector:"")).html('<option value="">กรุณาเลือก...</option>')):"amphur"==e?($(t.province.selector+","+t.amphur.selector).prop("disabled",!1),s&&$(t.district.selector).html('<option value="">กรุณาเลือก...</option>')):$(t.province.selector+","+t.amphur.selector+","+t.district.selector).prop("disabled",!1)),$(t.province.selector).prop("disabled",!1)}):void("amphur"==e?($(t.province.selector).prop("disabled",!1),$(t.amphur.selector).html('<option value="">กรุณาเลือก...</option>').prop("disabled",!0),s&&$(t.district.selector).html('<option value="">กรุณาเลือก...</option>').prop("disabled",!0)):"district"==e?($(t.province.selector+","+t.amphur.selector).prop("disabled",!1),s&&$(t.district.selector).html('<option value="">กรุณาเลือก...</option>').prop("disabled",!0)):($(t.province.selector+","+t.amphur.selector).prop("disabled",!1),$(t.amphur.selector+" option:selected").val()>0&&(s&&$(t.district.selector).prop("disabled",!1),r&&$(t.zipcode.selector).prop("disabled",!1))))}function i(e){console.log("Error: "+e)}if("object"==typeof e){e.district_on="object"==typeof e.district&&1==$(e.district).length;var a=e.district_on,o="undefined"!=typeof e.zipcode&&"undefined"!=typeof e.zipcode.selector;if("object"!=typeof e.province||0==e.province.selector||$(e.province.selector).length<=0||$(e.province.selector).length>1)i("Province Element not found or have found more than one");else if("object"!=typeof e.amphur||0==e.amphur.selector||$(e.amphur.selector).length<=0||$(e.amphur.selector).length>1)i("Amphur Element not found or have found more than one");else if("undefined"==typeof e.ajax_url||0==e.ajax_url)i("Ajax url not found");else{var r=!1,s=!1;"undefined"!=typeof e.province.id&&e.province.id>0&&(r=e.province.id),"undefined"!=typeof e.amphur.id&&e.amphur.id>0&&(s=e.amphur.id),$.when(t("province",e,1),r?t("amphur",e,1):{},s?t("district",e,1):{}).done(function(){r&&($(e.province.selector).val(r).prop("disabled",!1),$(e.amphur.selector).prop("disabled",!1)),s&&($(e.amphur.selector).val(s).prop("disabled",!1),$(e.district.selector).prop("disabled",!1)),a&&"undefined"!=typeof e.district.id&&e.district.id>0&&$(e.district.selector).val(e.district.id),$(e.province.selector).prop("disabled",!1)}),$(e.province.selector).change(function(){t("amphur",e)}),$(e.amphur.selector).change(function(){t("district",e)}),o&&$(e.zipcode.selector).change(function(){$.isNumeric($(this).val())&&5==$(this).val().length&&t("zipcode",e)}),o&&a&&$(e.district.selector).change(function(){t("district_change",e)})}}else i("Invalid Parameters")}function main_search_autocomplete_init(options){function renderData(e){var t=new RegExp("("+q+")","gi"),i='<span style="color:red;">$1</span>';if("success"==e.result){if("undefined"!=typeof e.data&&0!=e.data&&$.isArray(e.data)){for(var a=[],o=0;o<e.data.length;o++)for(var r=e.data[o],s=0;s<r.length;s++){var n=r[s];"undefined"!=typeof n.name&&0!=n.name&&a.push({group:o,value:n.name,name:n.name.replace(t,i),image:"undefined"!=typeof n.image?n.image:"",url:"undefined"!=typeof n.url?n.url:"",describe:"undefined"!=typeof n.describe?n.describe:"",order:"undefined"!=typeof n.order?n.order:999999})}return a}return!1}return!1}if("undefined"!=typeof $.ui){options=$.extend({input_id:"#main-search-input",act:"main_search_autocomplete",landing:!0,landing_data:{},pre_dir:pre_dir,search_url:!1},options);var $input=$(options.input_id);if(0==options.search_url)return;if($('<a href="javascript:;" id="autocomplete-btn-reset" style="display: none;color:#aaa;position: absolute;top:'+($("#main-search-input").offset().top+3)+"px;left:"+($("#main-search-input").offset().left+$("#main-search-input").width()-2)+'px;"><i style="font-size: 14px;" class="fa fa-times-circle"></i></a>').appendTo("body"),$input.css("padding-right","15px"),$("#autocomplete-btn-reset").click(function(){$(this).hide(),$("#main-search-autocomplete").html(""),$("#main-search-autocomplete").hide(),$input.val("").focus().trigger("keypress")}),main_search_autocomplete=$input.autocomplete({minLength:0,delay:750,source:function(e,t){var i,a=e.term;"undefined"==typeof main_search_autocomplete.cache&&(main_search_autocomplete.cache={}),"undefined"!=typeof main_search_autocomplete.ajax&&"undefined"!=typeof main_search_autocomplete.ajax.abort&&main_search_autocomplete.ajax.abort(),""!=e.term&&""!=options.file_process?($("#autocomplete-btn-reset").show(),"undefined"!=typeof main_search_autocomplete.cache[a]?(i=renderData(main_search_autocomplete.cache[a]),0!=i?t(i):($("#main-search-autocomplete").html(""),$("#main-search-autocomplete").hide())):main_search_autocomplete.ajax=$.ajax({dataType:"json",url:options.file_process+"?act="+options.act+"&pre_dir_rewrite="+options.pre_dir+"&q="+a,type:"GET",success:function(e){main_search_autocomplete.cache[a]=e,i=renderData(main_search_autocomplete.cache[a]),0!=i?t(i):($("#main-search-autocomplete").html(""),$("#main-search-autocomplete").hide())}})):($("#autocomplete-btn-reset").hide(),options.landing?main_search_autocomplete.change_landing_page("index"):($("#main-search-autocomplete").html(""),$("#main-search-autocomplete").hide()))},close:function(){""==$input.val()&&options.landing&&main_search_autocomplete.change_landing_page("index")},focus:function(){return""!=$("#main-search-autocomplete").html()&&$("#main-search-autocomplete").show(),!1}}),main_search_autocomplete.reposition=function(){main_search_autocomplete.data("ui-autocomplete").menu.element.position({my:"left top",of:main_search_autocomplete.data("ui-autocomplete").element,at:"left bottom",collision:"none"})},main_search_autocomplete.reposition(),main_search_autocomplete.currentGroup=!1,main_search_autocomplete.autocomplete("widget").attr("id","main-search-autocomplete"),main_search_autocomplete.origClose=main_search_autocomplete.data("ui-autocomplete").close,main_search_autocomplete.dummyClose=!1,main_search_autocomplete.data("ui-autocomplete").menu.element.off("menuselect"),main_search_autocomplete.data("ui-autocomplete").menu.element.on("menuselect",function(event,ui){var item=ui.item.data("ui-autocomplete-item"),$this=main_search_autocomplete.data("ui-autocomplete"),previous=$this.previous;if($this.element[0]!==$this.document[0].activeElement&&($this.element.focus(),$this.previous=previous,$this._delay(function(){$this.previous=previous,$this.selectedItem=item})),"undefined"!=typeof item.url&&0!=item.url){if("javascript"==item.url.substr(0,10))return eval(item.onclick),fasle;window.location=item.url}$this.term=$this._value(),$this.close(event),$this.selectedItem=item}),main_search_autocomplete.data("ui-autocomplete")._renderItem=function(e,t){t.group!=main_search_autocomplete.currentGroup&&t.group>0&&e.append("<li class='ui-menu-divider category_topic'></li>"),main_search_autocomplete.currentGroup=t.group;var i="<a "+(0==t.image?"class='no-image'":"")+" href='"+t.url+"'><table border='0' cellspacing='0' cellpadding='0'><tr>";return i+=0!=t.image?"<td style='width: 36px;height: 36px;'><img src='"+t.image+"' style='float:left;width:36px;height:36px;'></td><td class='list-name' style='padding-left: 10px;'>"+t.name:'<td class="list-name" style="'+(0!=t.describe?"padding-right:50px;":"")+'" colspan="2">'+t.name,0!=t.describe&&(i+="<span class='type'>"+t.describe+"</span>"),i+="</td></tr></table></a>",i+="<div style='clear:both;'></div>",$("<li "+("undefined"==typeof t.url||0==t.url?'style="pointer-events:none;"':"")+"></li>").data("item.autocomplete",t).append(i).appendTo(e)},options.landing&&(main_search_autocomplete.change_landing_page=function(e){"undefined"!=typeof main_search_autocomplete.landing[e]&&0!=main_search_autocomplete.landing[e]&&($("#main-search-autocomplete").html(main_search_autocomplete.landing[e]),$("#main-search-autocomplete .ui-menu-item").each(function(){var e={value:$(this).find("a").text(),url:$(this).find("a").attr("href")};"undefined"!=typeof $(this).find("a").attr("onclick")&&0!=$(this).find("a").attr("onclick")&&(e.onclick=$(this).find("a").attr("onclick")),$(this).data("item.autocomplete",e),$(this).data("uiAutocompleteItem",e)}))},options.landing&&options.landing_data&&"undefined"!=typeof options.landing_data.landing&&"undefined"!=typeof options.landing_data.landing.index)){main_search_autocomplete.landing={};var landing=options.landing_data.landing;$.each(landing,function(e,t){main_search_autocomplete.landing[e]=t}),""==$input.val()&&main_search_autocomplete.change_landing_page("index")}if($(window).resize(function(){main_search_autocomplete.reposition()}),$input.focus(function(){""!=$("#main-search-autocomplete").html()?($("#main-search-autocomplete").show(),main_search_autocomplete.reposition()):"undefined"!=typeof main_search_autocomplete.cache[q]&&0!=main_search_autocomplete.cache[q]&&(result=renderData(main_search_autocomplete.cache[q]),0!=result&&main_search_autocomplete.data("ui-autocomplete").__response(result))}),""!=$input.val().trim()){var q=$input.val().trim();main_search_autocomplete.ajax=$.ajax({dataType:"json",url:options.file_process+"?act="+options.act+"&pre_dir_rewrite="+options.pre_dir+"&q="+q,type:"GET",success:function(e){"undefined"==typeof main_search_autocomplete.cache&&(main_search_autocomplete.cache={}),main_search_autocomplete.cache[q]=e,renderData(e)}})}}else{if(!main_search_autocomplete_script_injected){main_search_autocomplete_script_injected=!0;var s=document.createElement("script");s.type="text/javascript",s.src="https://script.thaiware.com/jquery/jquery-ui.min.js",$("head").append(s),s=document.createElement("link"),s.type="text/css",s.rel="stylesheet",s.href="https://script.thaiware.com/jquery/ui/jquery.ui.all.css",$("head").append(s)}setTimeout(function(){main_search_autocomplete_init(options)},250)}}function fb_login(e){return!$(".social-button-block .social-button").hasClass("disabled")&&!$(".social-button-block .social-button").hasClass("loading")&&(progress(".login_block .progress"),$(".login_block :input").prop("disabled","disabled").removeClass("input_error"),$(".login_block .submit").removeClass("btn_blue").addClass("btn_blue_disabled"),$(".login_block .btn_link").removeClass("btn_link").addClass("btn_link_disabled"),$(".social-button-block .social-button").addClass("loading"),void FB.getLoginStatus(function(t){if("connected"===t.status){var i=t.authResponse.accessToken;fb_connect(i,function(t){e(t)})}else FB.login(function(t){if(t.authResponse){var i=t.authResponse.accessToken;0!=i&&fb_connect(i,function(t){e(t)})}else $(".login_block :input").prop("disabled",!1),$(".login_block .submit").removeClass("btn_blue_disabled").addClass("btn_blue"),$(".login_block .btn_link_disabled").removeClass("btn_link_disabled").addClass("btn_link"),$(".social-button-block .social-button").removeClass("loading"),progress(".login_block .progress","")},{scope:"public_profile,email"})}))}function fb_connect(e,t){var i={};i.act="login_fb",i.tk=e,$(".social-button-block input[name=member_newsletter]").length>0&&(i.member_newsletter=$(".social-button-block input[name=member_newsletter]").val()),$(".social-button-block input[name=member_newsletter_shop]").length>0&&(i.member_newsletter_shop=$(".social-button-block input[name=member_newsletter_shop]").val()),$.ajax({url:("shop.thaiware.com"==location.hostname?"https://shop.thaiware.com":"https://member.thaiware.com")+"/login_process.php",data:i,method:"post",xhrFields:{withCredentials:!0}}).done(function(e){t(e)})}function googleapiInit(e,t){e&&("undefined"==typeof gapi?setTimeout(function(){googleapiInit(e,t)},250):gapi.load("auth2",function(){$(".social-button.googleplus-button").removeClass("loading"),gapiAuth2=gapi.auth2.init({client_id:e,fetch_basic_profile:!0,scope:"profile"}),"function"==typeof t&&t()}))}function googleSignInStatus(e){var t=gapiAuth2.currentUser.get().getAuthResponse().id_token,i=(gapiAuth2.currentUser.get().getBasicProfile(),{act:"login_google",tk:t});$(".social-button-block input[name=member_newsletter]").length>0&&(i.member_newsletter=$(".social-button-block input[name=member_newsletter]").val()),$(".social-button-block input[name=member_newsletter_shop]").length>0&&(i.member_newsletter_shop=$(".social-button-block input[name=member_newsletter_shop]").val()),$.ajax({url:("shop.thaiware.com"==location.hostname?"https://shop.thaiware.com":"https://member.thaiware.com")+"/login_process.php",data:i,method:"post",xhrFields:{withCredentials:!0}}).done(function(t){$(".login_block :input").prop("disabled",!1),$(".login_block .submit").removeClass("btn_blue_disabled").addClass("btn_blue"),$(".login_block .btn_link_disabled").removeClass("btn_link_disabled").addClass("btn_link"),$(".social-button-block .social-button").removeClass("loading"),progress(".login_block .progress",""),e(t)})}function google_login(e){var t=function(){progress(".login_block .progress"),$(".login_block :input").prop("disabled","disabled").removeClass("input_error"),$(".login_block .submit").removeClass("btn_blue").addClass("btn_blue_disabled"),$(".login_block .btn_link").removeClass("btn_link").addClass("btn_link_disabled"),$(".social-button-block .social-button").addClass("loading")};if("undefined"!=typeof gapi)return!$(".social-button-block .social-button").hasClass("disabled")&&!$(".social-button-block .social-button").hasClass("loading")&&void(gapiAuth2.isSignedIn.get()?(t(),googleSignInStatus(e)):gapiAuth2.signIn().then(function(){gapiAuth2.isSignedIn.get()&&(t(),googleSignInStatus(e))}))}function request_chrome_notification(e){try{"function"!=typeof e&&(e=function(){}),"Notification"in window&&"undefined"!=typeof Notification&&"granted"!=Notification.permission&&"denied"!=Notification.permission&&Notification.requestPermission(e)}catch(t){return console.log("request_chrome_notification",t),!1}}function send_chrome_notification(e,t,i,a,o,r,s){try{if(void 0===s&&(s=5e3),"Notification"in window&&"undefined"!=typeof Notification)if("granted"!=Notification.permission)"denied"!=Notification.permission&&Notification.requestPermission();else{void 0!=o&&null!=o||(o="https://images.thaiware.com/logo_thaiware.jpg");var n=new Notification(t,{icon:o,body:i,tag:e});if(void 0!=a&&null!=a?(n.url=a,n.onclick=function(){window.open(this.url),n.close()}):n.onclick=function(){window.focus(),n.close()},s>0)var l=setTimeout(n.close(),s);"function"==typeof r&&r(n,l)}}catch(c){return console.log("send_chrome_notification",c),!1}}function crtg_getCookie(e){var t,i,a,o=document.cookie.split(";");for(t=0;t<o.length;t++)if(i=o[t].substr(0,o[t].indexOf("=")),a=o[t].substr(o[t].indexOf("=")+1),i=i.replace(/^\s+|\s+$/g,""),i==e)return unescape(a);return""}function imageSlider_init(e){$(".ckeditor-imageSlider:not(.slider-container):not(.rendered)").each(function(){if($(this).find("img").length>0){var e=$(this).attr("class").toString().replace("slider-container","").trim(),t='<div style="clear: both;"></div><div><div class="slider-container '+e+'"><div class="slider-loading" u="loading"><div><div class="vertical-center fountainG-block"><div class="fountainG fountainG_1"></div><div class="fountainG fountainG_2"></div><div class="fountainG fountainG_3"></div><div class="fountainG fountainG_4"></div><div class="fountainG fountainG_5"></div><div class="fountainG fountainG_6"></div><div class="fountainG fountainG_7"></div><div class="fountainG fountainG_8"></div></div></div></div><span u="arrowleft" class="jssora12l"><img class="vertical-center" src="'+ckeditor_imageSlider.imagePath+'slider_arrow_image_l.png" alt="Image Slider Arrow Left"></span><span u="arrowright" class="jssora12r"><img class="vertical-center" src="'+ckeditor_imageSlider.imagePath+'slider_arrow_image_r.png" alt="Image Slider Arrow Right"></span><div class="slide-page"><div>1 / '+$(this).find("img").length+'</div></div><div class="slides" u="slides">';$(this).find("img").each(function(){t+='<div style="overflow: visible;">',t+=$(this).attr("src").indexOf("/shop/")>-1?'<img u="thumb" src2="'+$(this).attr("src")+'"/>':'<img u="thumb" src2="'+$(this).attr("src").replace(/\/upload_misc\/([^\/]+)\/([0-9]{4}_[0-9]{2})\/images\//i,"/upload_misc/$1/$2/728x409/")+'"/>',t+='<img u="image" src2="'+$(this).attr("src")+'" alt="'+$(this).attr("alt")+'" data-size-lg="'+(void 0!=$(this).data("size-lg")?$(this).data("size-lg"):"")+'" data-src-lg="'+(void 0!=$(this).data("src-lg")?$(this).data("src-lg"):"")+'"/>'+(void 0!==$(this).data("description")&&0!=$(this).data("description")?'<div data-u="caption" data-t="0" style="position: absolute;left:0;right:0;top:0;width:100%;background-color: rgba(0,0,0,0.5);font-size: 16px;color: #ffffff;padding:10px 15px;">'+$(this).data("description")+"</div>":"")+"</div>"}),t+="</div>",t+='<div class="thumbwrapper" u="thumbwrapper"><div><div u="thumbnavigator" class="jssort01"><div u="slides" style="cursor: default;"><div u="prototype" class="p"><div class=w><div u="thumbnailtemplate" class="t"></div></div></div></div><span u="arrowleft" class="prev jssora11l"><img class="vertical-center" src="'+ckeditor_imageSlider.imagePath+'slider_arrow_thumbnail_l.png" alt="Image Slider Arrow Left"></span><span u="arrowright" class="next jssora11r"><img class="vertical-center" src="'+ckeditor_imageSlider.imagePath+'slider_arrow_thumbnail_r.png" alt="Image Slider Arrow Right"></span></div></div></div><div style="clear: both;"></div>',t+='</div></div><div style="clear: both;"></div>',$(this).before(t),$(this).hide().addClass("rendered")}else $(this).remove()}),imageSlider_waitForSwiper(e)}function imageSlider_waitForSwiper(e){clearTimeout(ckeditor_imageSlider.timeout),ckeditor_imageSlider.timeout=setTimeout(function(){function t(){$(".ckeditor-imageSlider[jssor-slider=true]").each(function(){var i,a,o,r,s=$(this).data("options");if(s.jssor){if(a=s.jssor.$Elmt.parentNode.clientWidth,!a)return window.setTimeout(t,30),!1;s.jssor.$ScaleWidth(Math.max(Math.min(a,640),300)),i=$(this).find(".slides:first").height(),o=$(this).find(".jssora12l").height(),i-o>5&&$(this).find(".jssora12l").css({top:Math.round((i-o)/2)+"px",display:"block !important"}),r=$(this).find(".jssora12r").height(),i-r>5&&$(this).find(".jssora12r").css({top:Math.round((i-r)/2)+"px",display:"block !important"}),$(this).find(".slide-page").css("bottom",$(this).find(".jssort01").height()+10+"px"),window.innerHeight!=screen.height&&ckeditor_imageSlider.windowWidth!=$(window).width()&&(ckeditor_imageSlider.resizeTimeout!==!1&&clearTimeout(ckeditor_imageSlider.resizeTimeout),ckeditor_imageSlider.resizeTimeout=setTimeout(function(){$(".ckeditor-imageSlider.slider-container").remove(),$(".ckeditor-imageSlider").removeClass("rendered"),imageSlider_init(e)},500))}})}"undefined"==typeof $JssorSlider$?imageSlider_waitForSwiper(e):(ckeditor_imageSlider.windowWidth=$(window).width(),$(".ckeditor-imageSlider.slider-container").each(function(){if("true"==$(this).attr("jssor-slider")||$(this).parents(".ckeditor-imageSlider").length>0)return!0;$(this).data("options",{});var e=$(window).width()<=600?8:10,t={$LazyLoading:1,$AutoPlay:!1,$PauseOnHover:3,$DragOrientation:1,$ArrowKeyNavigation:!0,$ArrowNavigatorOptions:{$Class:$JssorArrowNavigator$,$ChanceToShow:2,$AutoCenter:2},$ThumbnailNavigatorOptions:{$Class:$JssorThumbnailNavigator$,$ChanceToShow:2,$ActionMode:1,$SpacingX:10,$Cols:e,$ParkingPosition:$(window).width()<=600?360:280,$Scale:!1}};$(this).data("options").jssor=new $JssorSlider$(this,t),$(this).find(".jssort01 .t").length<=e?($(this).find(".jssora11l").hide(),$(this).find(".jssora11l img").hide(),
$(this).find(".jssora11r").hide(),$(this).find(".jssora11r img").hide()):($(this).find(".jssora11l").show(),$(this).find(".jssora11l img").show(),$(this).find(".jssora11r").show(),$(this).find(".jssora11r img").show());var i=$(this).data("options").jssor;i.$On($JssorSlider$.$EVT_PARK,function(e){$(i.$Elmt).find(".slide-page > div").text(Math.round(1*e+1)+" / "+$(i.$Elmt).find(".jssort01 .t").length)}),$(this).show()}),$(".ckeditor-imageSlider.slider-container img[u=image]").show(),$(".slider-container .jssora12l,.slider-container .jssora12r").show(),t(),$(".ckeditor-imageSlider .jssora11r").off("click").click(function(){var e=$(this).closest(".ckeditor-imageSlider[jssor-slider=true]"),t=1*e.data("options").jssor.$CurrentIndex();e.data("options").jssor.$GoTo(t+3),e.find(".slide-page > div").text(Math.round(t+3)+" / "+e.find(".jssort01 .t").length)}),$(".ckeditor-imageSlider .jssora11l").off("click").click(function(){var e=$(this).closest(".ckeditor-imageSlider[jssor-slider=true]"),t=1*e.data("options").jssor.$CurrentIndex();e.data("options").jssor.$GoTo(t-3),e.find(".slide-page > div").text(Math.round(t-3)+" / "+e.find(".jssort01 .t").length)}),$(window).unbind("load",t).bind("load",t),$(window).unbind("resize",t).bind("resize",t),$(window).unbind("orientationchange",t).bind("orientationchange",t),"function"==typeof e?e():"")},250)}function star_text(e){return"คะแนนโหวต "+Math.round(100*e)/100+" ("+vote_num.toLocaleString()+" ครั้ง)"}function star_show(e,t,a){var o="";for(vote_num=t,0!=t?rate=e/t:rate=0,rate!=parseInt(rate)?(rate_int=parseInt(rate),rate_point=rate-rate_int,rate_point=Math.round(100*rate_point)/100):(rate_int=rate,rate_point=0),i=1;i<=5;i++)o+='<a href="javascript:;" onclick="vote(\''+a+"&point="+i+'\')"><img src="',o+=i<=rate_int?"https://images.thaiware.com/starbig_yellow.gif":i-1==rate_int&&rate_point>=.4&&rate_point<=.8?"https://images.thaiware.com/starbig_half.gif":i-1==rate_int&&rate_point>.8?"https://images.thaiware.com/starbig_yellow.gif":"https://images.thaiware.com/starbig_white.gif",o+='" id="s'+i+'" onmouseover="star_over(\''+i+'\');" onmouseout="star_out()" alt="" style="cursor:pointer" /></a>';$("#vote_image").html(o),$("#vote_text").html(star_text(1*rate_int+1*rate_point))}function star_over(e){if(vote_status){var t;switch(e){case"1":t="โหวตให้ : แย่มาก";break;case"2":t="โหวตให้ : พอใช้ได้";break;case"3":t="โหวตให้ : ดี";break;case"4":t="โหวตให้ : ดีมาก";break;case"5":t="โหวตให้ : ยอดเยี่ยมมาก"}for($("#vote_text").html('<span style="color:#333">'+t+"</span>"),i=2;i<=5;i++)$("#s"+i).prop("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=e&&$("#s"+i).prop("src","https://images.thaiware.com/starbig_yellow.gif")}}function star_out(){if(vote_status){for(i=1;i<=5;i++)i<=rate_int?$("#s"+i).prop("src","https://images.thaiware.com/starbig_yellow.gif"):i-1==rate_int&&rate_point>=.4&&rate_point<=.8?$("#s"+i).prop("src","https://images.thaiware.com/starbig_half.gif"):i-1==rate_int&&rate_point>.8?$("#s"+i).prop("src","https://images.thaiware.com/starbig_yellow.gif"):$("#s"+i).prop("src","https://images.thaiware.com/starbig_white.gif");$("#vote_text").html(star_text(1*rate_int+1*rate_point))}}function vote(e){progress("#vote_text"),vote_status=!1,$.get(encodeURI(e),{},function(e){progress("#vote_text",""),e=e.split(" "),"success"==e[0]?($("#vote_image").html('<img src="" id="s1" alt="" /><img src="" id="s2" alt="" /><img src="" id="s3" alt="" /><img src="" id="s4" alt="" /><img src="" id="s5" alt="" />'),vote_num=e[2],0!=e[2]?rate=e[1]/e[2]:rate=0,rate!=parseInt(rate)?(rate_int=parseInt(rate),rate_point=rate-rate_int,rate_point=Math.round(100*rate_point)/100):(rate_int=rate,rate_point=0),vote_status=!0,star_out(),progress("#vote_text",'<img src="https://script.thaiware.com/jquery/images/ico_check.gif" alt="" style="vertical-align:middle" /> <span style="color:#060">โหวตเรียบร้อยแล้ว</span>'),setTimeout("vote_result_error()",5e3)):"limit_time"==e[0]?(progress("#vote_text",'<span style="color:#F33;">ไม่สามารถโหวตได้ (1 ชม./1 โหวต)</span>'),setTimeout("vote_result_error()",5e3)):(progress("#vote_text",'<span style="color:#F33;">ผิดพลาด ไม่สามารถโหวตได้</span>'),setTimeout("vote_result_error()",5e3))})}function vote_result_success(){progress("#vote_text","")}function vote_result_error(){vote_status=!0,star_out()}function star_small_text(e){return 0!=e?Math.round(100*e)/100+" ("+vote_num.toLocaleString()+" โหวต)":""}function star_small_show(e,t,a){var o="";for(vote_num=t,0!=t?rate=e/t:rate=0,rate!=parseInt(rate)?(rate_int=parseInt(rate),rate_point=rate-rate_int,rate_point=Math.round(100*rate_point)/100):(rate_int=rate,rate_point=0),i=1;i<=5;i++)o+='<a href="javascript:;" onclick="vote_small(\''+a+"&point="+i+'\')"><img src="',o+=i<=rate_int?"https://images.thaiware.com/star_yellow.gif":i-1==rate_int&&rate_point>=.4&&rate_point<=.8?"https://images.thaiware.com/star_half.gif":i-1==rate_int&&rate_point>.8?"https://images.thaiware.com/star_yellow.gif":"https://images.thaiware.com/star_white.gif",o+='" id="s_small'+i+'" onmouseover="star_small_over(\''+i+'\');" onmouseout="star_small_out()" alt="" style="cursor:pointer" /></a>';$("#vote_image").html(o),$("#vote_text").html(star_small_text(1*rate_int+1*rate_point))}function star_small_over(e){if(vote_status){var t;switch(e){case"1":t="แย่มาก";break;case"2":t="พอใช้ได้";break;case"3":t="ดี";break;case"4":t="ดีมาก";break;case"5":t="ยอดเยี่ยมมาก"}for($("#vote_text").html('<span style="color:#333">'+t+"</span>"),i=2;i<=5;i++)$("#s_small"+i).prop("src","https://images.thaiware.com/star_white.gif");for(i=1;i<=5;i++)i<=e&&$("#s_small"+i).prop("src","https://images.thaiware.com/star_yellow.gif")}}function star_small_out(){if(vote_status){for(i=1;i<=5;i++)i<=rate_int?$("#s_small"+i).prop("src","https://images.thaiware.com/star_yellow.gif"):i-1==rate_int&&rate_point>=.4&&rate_point<=.8?$("#s_small"+i).prop("src","https://images.thaiware.com/star_half.gif"):i-1==rate_int&&rate_point>.8?$("#s_small"+i).prop("src","https://images.thaiware.com/star_yellow.gif"):$("#s_small"+i).prop("src","https://images.thaiware.com/star_white.gif");$("#vote_text").html(star_small_text(1*rate_int+1*rate_point))}}function vote_small(e){progress("#vote_text"),vote_status=!1,$.get(encodeURI(e),{},function(e){progress("#vote_text",""),e=e.split(" "),"success"==e[0]?($("#vote_image").html('<img src="" id="s1" alt="" /><img src="" id="s2" alt="" /><img src="" id="s3" alt="" /><img src="" id="s4" alt="" /><img src="" id="s5" alt="" />'),vote_num=e[2],0!=e[2]?rate=e[1]/e[2]:rate=0,rate!=parseInt(rate)?(rate_int=parseInt(rate),rate_point=rate-rate_int,rate_point=Math.round(100*rate_point)/100):(rate_int=rate,rate_point=0),vote_status=!0,star_small_out(),progress("#vote_text",'<span style="color:#060">โหวตเรียบร้อยแล้ว</span>'),setTimeout("vote_small_result_error()",5e3)):"limit_time"==e[0]?(progress("#vote_text",'<span style="color:#F33;">จำกัด 1 ชม./โหวต</span>'),setTimeout("vote_small_result_error()",5e3)):(progress("#vote_text",'<span style="color:#F33;">เกิดข้อผิดพลาด</span>'),setTimeout("vote_result_error()",5e3))})}function vote_small_result_success(){progress("#vote_text","")}function vote_small_result_error(){vote_status=!0,star_small_out()}function post_star_show(e){for(var t="",i=1;i<=5;i++)t+='<a href="javascript:;" onclick="post_vote(\''+i+"','1')\"><img src=\"",t+="https://images.thaiware.com/starbig_white.gif",t+='" id="FeedbackStar_'+i+'_1" onmouseover="post_star_over(\''+i+'\',\'1\');" onmouseout="post_star_out(\'1\')" alt="" style="cursor:pointer" /></a>';$("#post_star_1").html(t)}function post_star_over(e,t){if(vote_status){for(i=2;i<=5;i++)$("#FeedbackStar_"+i+"_"+t).attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=e&&$("#FeedbackStar_"+i+"_"+t).attr("src","https://images.thaiware.com/starbig_yellow.gif")}}function post_star_out(){var e=$("#FeedbackStar_1").val();if(""==e)for(i=1;i<=5;i++)i<=rate_int?$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_yellow.gif"):i-1==rate_int&&e>=.4&&e<=.8?$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_half.gif"):i-1==rate_int&&e>.8?$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_yellow.gif"):$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_white.gif");if(""!=e)for(i=1;i<=5;i++)i<=e?$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_yellow.gif"):i-1==rate_int&&e>=.4&&e<=.8?$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_half.gif"):i-1==rate_int&&e>.8?$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_yellow.gif"):$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_white.gif")}function post_vote(e,t){for($("#FeedbackStar_"+t).val(e),$("#text_FeedbackStar_"+t).css({display:"block"}),$("#vote_require").removeClass("vote_require"),i=1;i<=5;i++)$("#FeedbackStar_"+i+"_"+t).attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=e&&$("#FeedbackStar_"+i+"_"+t).attr("src","https://images.thaiware.com/starbig_yellow.gif")}function comment_star_show(e,t,a){var o="";for(i=1;i<=5;i++)o+='<a href="javascript:;" onclick="comment_vote(\''+i+"','1','"+a+"&point="+i+'\')"><img src="',o+="https://images.thaiware.com/starbig_white.gif",o+='" id="FeedbackStar_'+i+'_1" onmouseover="comment_star_over(\''+i+'\',\'1\');" onmouseout="comment_star_out(\'1\')" alt="" style="cursor:pointer" /></a>';$("#comment_post_star").html(o)}function comment_star_over(e,t){if(vote_status){for(i=2;i<=5;i++)$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=e&&$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_yellow.gif");for(i=2;i<=5;i++)$("#s"+i).attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=e&&$("#s"+i).attr("src","https://images.thaiware.com/starbig_yellow.gif")}}function comment_star_out(e){var t=$("#vote_count").val();for(i=1;i<=5;i++)$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=t&&$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_yellow.gif");for(i=1;i<=5;i++)$("#s"+i).attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=t&&$("#s"+i).attr("src","https://images.thaiware.com/starbig_yellow.gif")}function comment_vote(e,t,a){$(".comment_box textarea[name=description]").first().focus(),$("#star_require").css({display:"none"}),progress("#vote_text"),vote_status=!1,$.get(encodeURI(a),{},function(e){for(progress("#vote_text",""),e=e.split(" "),"success"==e[0]?(vote_num=e[2],vote_point=e[3],0!=e[2]?rate=e[1]/e[2]:rate=0,rate!=parseInt(rate)?(rate_int=parseInt(rate),rate_point=rate-rate_int,rate_point=Math.round(100*rate_point)/100):(rate_int=rate,rate_point=0),vote_status=!0,star_out(),progress("#vote_text",'<img src="https://script.thaiware.com/jquery/images/ico_check.gif" alt="" style="vertical-align:middle" /> <span style="color:#060">โหวตเรียบร้อยแล้ว</span>'),setTimeout("vote_result_error()",1e3)):"limit_time"==e[0]?(vote_point=e[3],progress("#vote_text",'<span style="color:#F33;">ไม่สามารถโหวตได้ (1 ชม./1 โหวต)</span>'),setTimeout("vote_result_error()",1e3)):(vote_point=e[3],progress("#vote_text",'<span style="color:#F33;">ผิดพลาด ไม่สามารถโหวตได้</span>'),setTimeout("vote_result_error()",1e3)),$("#vote_count").val(vote_point),i=1;i<=5;i++)$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=vote_point&&$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_yellow.gif")})}function starReset(e){for($("#FeedbackStar_"+e).val(""),$("#text_FeedbackStar_"+e).css({display:"none"}),i=1;i<=5;i++)$("#FeedbackStar_"+i+"_"+e).attr("src","https://images.thaiware.com/starbig_white.gif")}function star_text(e){return"คะแนนโหวต "+Math.round(100*e)/100+" ("+vote_num.toLocaleString()+" ครั้ง)"}function star_show(e,t,a){var o="";for(vote_num=t,0!=t?rate=e/t:rate=0,rate!=parseInt(rate)?(rate_int=parseInt(rate),rate_point=rate-rate_int,rate_point=Math.round(100*rate_point)/100):(rate_int=rate,rate_point=0),i=1;i<=5;i++)o+='<a href="javascript:;" onclick="vote(\''+a+"&point="+i+'\')"><img src="',o+=i<=rate_int?"https://images.thaiware.com/starbig_yellow.gif":i-1==rate_int&&rate_point>=.4&&rate_point<=.8?"https://images.thaiware.com/starbig_half.gif":i-1==rate_int&&rate_point>.8?"https://images.thaiware.com/starbig_yellow.gif":"https://images.thaiware.com/starbig_white.gif",o+='" id="s'+i+'" onmouseover="star_over(\''+i+'\');" onmouseout="star_out()" alt="" style="cursor:pointer" /></a>';$("#vote_image").html(o),$("#vote_text").html(star_text(1*rate_int+1*rate_point))}function star_over(e){if(vote_status){var t;switch(e){case"1":t="โหวตให้ : แย่มาก";break;case"2":t="โหวตให้ : พอใช้ได้";break;case"3":t="โหวตให้ : ดี";break;case"4":t="โหวตให้ : ดีมาก";break;case"5":t="โหวตให้ : ยอดเยี่ยมมาก"}for($("#vote_text").html('<span style="color:#333">'+t+"</span>"),i=2;i<=5;i++)$("#s"+i).attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=e&&$("#s"+i).attr("src","https://images.thaiware.com/starbig_yellow.gif");for(i=2;i<=5;i++)$("#star_"+i+"_1").attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=e&&$("#star_"+i+"_1").attr("src","https://images.thaiware.com/starbig_yellow.gif")}}function star_out(){if(vote_status){for(i=1;i<=5;i++)i<=rate_int?$("#s"+i).attr("src","https://images.thaiware.com/starbig_yellow.gif"):i-1==rate_int&&rate_point>=.4&&rate_point<=.8?$("#s"+i).attr("src","https://images.thaiware.com/starbig_half.gif"):i-1==rate_int&&rate_point>.8?$("#s"+i).attr("src","https://images.thaiware.com/starbig_yellow.gif"):$("#s"+i).attr("src","https://images.thaiware.com/starbig_white.gif");$("#vote_text").html(star_text(1*rate_int+1*rate_point));var e=$("#vote_count").val();for(i=1;i<=5;i++)$("#star_"+i+"_1").attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=e&&$("#star_"+i+"_1").attr("src","https://images.thaiware.com/starbig_yellow.gif")}}function vote(e){progress("#vote_text"),vote_status=!1,$.get(encodeURI(e),{},function(e){progress("#vote_text",""),e=e.split(" "),"success"==e[0]?($("#vote_image").html('<img src="" id="s1" alt="" /><img src="" id="s2" alt="" /><img src="" id="s3" alt="" /><img src="" id="s4" alt="" /><img src="" id="s5" alt="" />'),vote_num=e[2],vote_point=e[3],0!=e[2]?rate=e[1]/e[2]:rate=0,rate!=parseInt(rate)?(rate_int=parseInt(rate),rate_point=rate-rate_int,rate_point=Math.round(100*rate_point)/100):(rate_int=rate,rate_point=0),vote_status=!0,star_out(),progress("#vote_text",'<img src="https://script.thaiware.com/jquery/images/ico_check.gif" alt="" style="vertical-align:middle" /> <span style="color:#060">โหวตเรียบร้อยแล้ว</span>'),setTimeout("vote_result_error()",5e3)):"limit_time"==e[0]?(vote_point=e[3],progress("#vote_text",'<span style="color:#F33;">ไม่สามารถโหวตได้ (1 ชม./1 โหวต)</span>'),setTimeout("vote_result_error()",5e3)):(vote_point=e[3],progress("#vote_text",'<span style="color:#F33;">ผิดพลาด ไม่สามารถโหวตได้</span>'),setTimeout("vote_result_error()",5e3)),$("#vote_count").val(vote_point),$("html,body").animate({scrollTop:$("#scollToMember_Vote").offset().top},"slow")})}function vote_result_success(){progress("#vote_text","")}function vote_result_error(){vote_status=!0,star_out()}function star_small_text(e){return 0!=e?Math.round(100*e)/100+" ("+vote_num+" โหวต)":""}function star_small_show(e,t,a){var o="";for(vote_num=t,0!=t?rate=e/t:rate=0,rate!=parseInt(rate)?(rate_int=parseInt(rate),rate_point=rate-rate_int,rate_point=Math.round(100*rate_point)/100):(rate_int=rate,rate_point=0),i=1;i<=5;i++)o+='<a href="javascript:;" onclick="vote_small(\''+a+"&point="+i+'\')"><img src="',o+=i<=rate_int?"https://images.thaiware.com/star_yellow.gif":i-1==rate_int&&rate_point>=.4&&rate_point<=.8?"https://images.thaiware.com/star_half.gif":i-1==rate_int&&rate_point>.8?"https://images.thaiware.com/star_yellow.gif":"https://images.thaiware.com/star_white.gif",o+='" id="s_small'+i+'" onmouseover="star_small_over(\''+i+'\');" onmouseout="star_small_out()" alt="" style="cursor:pointer" /></a>';$("#vote_image").html(o),$("#vote_text").html(star_small_text(1*rate_int+1*rate_point))}function star_small_over(e){if(vote_status){var t;switch(e){case"1":t="แย่มาก";break;case"2":t="พอใช้ได้";break;case"3":t="ดี";break;case"4":t="ดีมาก";break;case"5":t="ยอดเยี่ยมมาก"}for($("#vote_text").html('<span style="color:#333">'+t+"</span>"),i=2;i<=5;i++)$("#s_small"+i).prop("src","https://images.thaiware.com/star_white.gif");for(i=1;i<=5;i++)i<=e&&$("#s_small"+i).prop("src","https://images.thaiware.com/star_yellow.gif")}}function star_small_out(){if(vote_status){for(i=1;i<=5;i++)i<=rate_int?$("#s_small"+i).prop("src","https://images.thaiware.com/star_yellow.gif"):i-1==rate_int&&rate_point>=.4&&rate_point<=.8?$("#s_small"+i).prop("src","https://images.thaiware.com/star_half.gif"):i-1==rate_int&&rate_point>.8?$("#s_small"+i).prop("src","https://images.thaiware.com/star_yellow.gif"):$("#s_small"+i).prop("src","https://images.thaiware.com/star_white.gif");$("#vote_text").html(star_small_text(1*rate_int+1*rate_point))}}function vote_small(e){progress("#vote_text"),vote_status=!1,$.get(encodeURI(e),{},function(e){for(progress("#vote_text",""),e=e.split(" "),"success"==e[0]?($("#vote_image").html('<img src="" id="s_small1" alt="" /><img src="" id="s_small2" alt="" /><img src="" id="s_small3" alt="" /><img src="" id="s_small4" alt="" /><img src="" id="s_small5" alt="" />'),vote_num=e[2],vote_point=e[3],0!=e[2]?rate=e[1]/e[2]:rate=0,rate!=parseInt(rate)?(rate_int=parseInt(rate),rate_point=rate-rate_int,rate_point=Math.round(100*rate_point)/100):(rate_int=rate,rate_point=0),vote_status=!0,star_small_out(),progress("#vote_text",'<span style="color:#060">โหวตเรียบร้อยแล้ว</span>'),setTimeout("vote_small_result_error()",5e3)):"limit_time"==e[0]?(vote_point=e[3],progress("#vote_text",'<span style="color:#F33;">จำกัด 1 ชม./โหวต</span>'),setTimeout("vote_small_result_error()",5e3)):(vote_point=e[3],progress("#vote_text",'<span style="color:#F33;">เกิดข้อผิดพลาด</span>'),setTimeout("vote_result_error()",5e3)),$("#vote_count").val(vote_point),$(".watermark").first().hide(),$(".comment_box").first().fadeIn(),$(".comment_box textarea[name=description]").first().focus(),i=1;i<=5;i++)$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=vote_point&&$("#FeedbackStar_"+i+"_1").attr("src","https://images.thaiware.com/starbig_yellow.gif");for(i=1;i<=5;i++)$("#s"+i).attr("src","https://images.thaiware.com/starbig_white.gif");for(i=1;i<=5;i++)i<=vote_point&&$("#s"+i).attr("src","https://images.thaiware.com/starbig_yellow.gif");$("html,body").animate({scrollTop:$("#scollToMember_Vote").offset().top},"slow")})}function vote_small_result_success(){progress("#vote_text","")}function vote_small_result_error(){vote_status=!0,star_small_out()}function comment_box_init(e){comment_box(),$("#comment_num_title").text($("#comment_num").text()),$("#form_comment_name").show(),$("#form_comment_fbname").hide(),$("#form_comment_fblogin").hide(),$("#form_comment input[name=facebook_id]").val(""),$("#form_comment input[name=name]").val("")}function comment_box(){$("#comment_status span").text(""),$("#comment_status").hide(),0==$("#comment_num").text()&&($(".watermark:first").hide(),$(".comment_box:first").fadeIn())}function comment_box_settext(e,t,i,a,o,r){text_watermark=e,text_del=t,label_name=i,label_description=a,comment_btnSubmit=o,comment_btnDel=r,$("#label_name").text(label_name),$("#label_description").text(label_description),$("#comment_btnSubmit").val(comment_btnSubmit)}function comment_form(e){var t="form_comment",i=!1;if("undefined"!=typeof e&&e>0?(t+="_"+e,comment_check(null,!1,e)&&(i=!0)):comment_check()&&(i=!0),$("#"+t+" :input").not("#"+t+" .watermark").blur(),!$("#"+t+" .submit").hasClass("btn_blue")||!i)return!1;try{return $("#"+t+" .progress").show(),0!=$("#"+t+" input[name=login]").val()||"undefined"!=typeof grecaptcha&&0!=$("#"+t+" .g-recaptcha-comment").length&&0!=grecaptcha.getResponse($("#"+t+" .g-recaptcha-comment").data("grecaptcha")).length?($("#"+t+" input[name=watermark]").val(""),progress("#"+t+" .progress"),$("#"+t+" .submit").removeClass("btn_blue").addClass("btn_blue_disabled"),$("#"+t+" input").removeClass("input_error"),"1"==$("#"+t+" input[name=login]").val()&&$("#"+t+" input[name=image]").length>0&&""!=$("#"+t+" input[name=image]").val()?($("#"+t).submit(),!0):(data=$("#"+t).serialize(),$("#"+t+" input,#"+t+" textarea").prop("disabled","disabled"),$.post($("#"+t).prop("action"),data,function(e){comment_form_complete(e,t)}),!1)):(progress("#"+t+" .progress","คุณต้องทำการยืนยันว่าไม่ใช่โปรแกรมอัตโนมัติ"),!1)}catch(a){return console.log(a),!1}}function comment_form_complete(e,t){var i=t;if(""!=e){if("success"===e.substring(0,7))$("#comment_view").html(e.substring(7)),$("#comment_num_title").text($("#comment_num").text()),$("#comment_status span").text("แสดงความคิดเห็นเรียบร้อยแล้ว").fadeIn(),$("#comment_status").fadeIn(),progress("#"+i+" .progress",""),$("#"+i+" .progress").hide(),name=$("#"+i+" input[name=name]").val(),facebook_id=$("#"+i+" input[name=facebook_id]").val(),$("#"+i+" input,#"+i+" textarea").removeAttr("disabled"),$("#"+i).each(function(){this.reset()}),$("#"+i+" input[name=name]").val(name),$("#"+i+" input[name=facebook_id]").val(facebook_id),$("#"+i+" .btn_blue_disabled").removeClass("btn_blue_disabled").addClass("btn_blue"),validate.name=!1,validate.description=!1,$(".comment_box").hide(),$(".watermark").fadeIn(),link_blank_init();else if("approve"==e)$("#comment_status span").text("เราได้รับความคิดเห็นของคุณแล้ว จำเป็นต้องใช้เวลาเล็กน้อยในการแสดงข้อมูล").fadeIn(),$("#comment_status").fadeIn(),progress("#"+i+" .progress",""),$("#"+i+" .progress").hide(),name=$("#"+i+" input[name=name]").val(),facebook_id=$("#"+i+" input[name=facebook_id]").val(),$("#"+i+" input,#"+i+" textarea").removeAttr("disabled"),$("#"+i).each(function(){this.reset()}),$("#"+i+" input[name=name]").val(name),$("#"+i+" input[name=facebook_id]").val(facebook_id),$("#"+i+" .btn_blue_disabled").removeClass("btn_blue_disabled").addClass("btn_blue"),validate.name=!1,validate.description=!1,$(".comment_box").hide(),$(".watermark").fadeIn(),link_blank_init();else if("approve_feedback"==e)$("#comment_status_comment").fadeIn(),progress("#"+i+" .progress",""),$("#"+i+" .progress").hide(),name=$("#"+i+" input[name=name]").val(),facebook_id=$("#"+i+" input[name=facebook_id]").val(),$("#"+i+" input,#"+i+" textarea").removeAttr("disabled"),$("#"+i).each(function(){this.reset()}),$("#"+i+" input[name=name]").val(name),$("#"+i+" input[name=facebook_id]").val(facebook_id),$("#"+i+" .btn_blue_disabled").removeClass("btn_blue_disabled").addClass("btn_blue"),validate.name=!1,validate.description=!1,$(".comment_box").hide(),$(".watermark").fadeIn(),link_blank_init();else{var a="ไม่สามารถดำเนินการได้";switch(e){case"error_imgtype":a="รูปแบบไฟล์ไม่ถูกต้อง";break;case"error_imgsize":a="ขนาดไฟล์รูปใหญ่กว่าที่กำหนด";break;case"error_vote":a="ไม่สามารถโหวตได้";break;case"error_code":a="คุณต้องทำการยืนยันว่าไม่ใช่โปรแกรมอัตโนมัติ";break;case"error_nothaichar":a="ความคิดเห็นต้องมีอักษรไทยอย่างน้อย 1 ตัวอักษร";break;case"error_invalid_email":a="ไม่สามารถตรวจสอบอีเมล์ได้ ตรวจสอบว่าคุณกรอกอีเมล์ถูกต้อง";break;case"error_sendmail":a="ระบบมีปัญหา ไม่สามารถส่งเมล์ได้"}$("#"+i+" input,#"+i+" textarea").removeAttr("disabled"),$("#"+i+" .btn_blue_disabled").removeClass("btn_blue_disabled").addClass("btn_blue"),progress("#"+i+" .progress",a)}"undefined"!=typeof grecaptcha&&grecaptcha.reset($("#"+i+" .g-recaptcha-comment").data("grecaptcha"))}}function comment_check(e,t,i){if(t)return validate[e]=t,!0;var a=0,o="form_comment";"undefined"!=typeof i&&(o+="_"+i);var r="";return 0==$("#"+o+" input[name=login]").val()&&(null==e?(fname="name",validate.name=!0):fname=e,"name"==fname&&1==validate.name&&(id="#"+o+" input[name="+fname+"]",""==$(id).val()?(1==tip_list[o+"_"+fname]?($(id).qtip("enable"),$(id).qtip("api").set("content.text","กรุณากรอกข้อมูล")):(tip(id,"input_error","กรุณากรอกข้อมูล"),tip_list[o+"_"+fname]=!0),$(id).addClass("input_error"),a=1):void 0!=regExp3.exec($(id).val())||$(id).val().indexOf("\\")!=-1?(1==tip_list[o+"_"+fname]?($(id).qtip("enable"),$(id).qtip("api").set("content.text","ห้ามใช้สัญลักษณ์พิเศษ")):(tip(id,"input_error","ห้ามใช้สัญลักษณ์พิเศษ"),tip_list[o+"_"+fname]=!0),$(id).addClass("input_error"),a=1):$(id).hasClass("input_error")&&($(id).qtip("hide").qtip("disable"),$(id).removeClass("input_error")),1==a&&""==r&&(r=fname))),null==e?(fname="description",validate.description=!0):fname=e,"description"==fname&&1==validate.description&&(id="#"+o+" textarea[name="+fname+"]",""==$(id).val()?(1==tip_list[o+"_"+fname]?($(id).qtip("enable"),$(id).qtip("api").set("content.text","กรุณากรอกข้อมูล")):(tip(id,"input_error","กรุณากรอกข้อมูล"),tip_list[o+"_"+fname]=!0),$(id).addClass("input_error"),a=1):$(id).hasClass("input_error")&&($(id).qtip("hide").qtip("disable"),$(id).removeClass("input_error")),1==a&&""==r&&(r=fname)),!a||(null==e&&("name"==r?$("#"+o+" input[name="+r+"]").focus():"description"==r&&$("#"+o+" textarea[name="+r+"]").focus()),!1)}function comment_del(e,t){progress_id="#comment_"+e+" .progress",btn_del="#comment_"+e+" .btn_del",confirm(comment_btnDel)&&($(progress_id).fadeIn(),$(btn_del).hide(),progress(progress_id),$.get(encodeURI(t),{},function(e){"success"===e.substring(0,7)?$("#comment_view").html(e.substring(7)):($(progress_id).hide(),$(btn_del).show())}))}function comment_termservice(e){e="undefined"!=typeof e?e:"","none"==$("#comment_termservice"+e).css("display")?($("#comment_termservice"+e).slideDown(),$("#comment_term_service_link"+e).hide()):($("#comment_termservice"+e).fadeOut(),$("#comment_term_service_link"+e).fadeIn())}function comment_fblogin(e){}function comment_fblogin_status(e,t){"hide"==e?($("#form_comment_name").show(),$("#form_comment_fbname").hide(),$("#form_comment input[name=facebook_id]").val(""),$("#form_comment input[name=name]").val("")):"show"==e&&($("#form_comment_name").hide(),$("#form_comment_fbname").show(),$("#form_comment input[name=facebook_id]").val(t.id),$("#form_comment input[name=name]").val(t.name),$("#fb_pic").html('<img src="https://graph.facebook.com/'+t.id+'/picture" alt="" style="width:25px;vertical-align:middle" />').prop("href","https://www.facebook.com/profile.php?id="+t.id),$("#fb_name").html(t.name).prop("href","https://www.facebook.com/profile.php?id="+t.id))}function comment_show_more(e){var t="#comment_"+e+"_detail .comment_show_more td",i=$("#comment_"+e+"_detail .comment_show_more form").serialize();return progress(t),$.get(pre_dir+"include/feedback.php?"+i,function(i){progress(t,""),"success"===i.substring(0,7)?($("#comment_"+e+"_detail .comment_show_more").remove(),$("#comment_"+e+"_detail > tbody").append(i.substring(7))):progress(t,"ไม่สามารถดำเนินการได้ กรุณาลองใหม่ภายหลัง")}),!1}function comment_login_response(e){function t(e){progress(".social-button-block .social-process",e),$(".social-button-block .social-button").removeClass("loading")}"error1"==e?t("Username หรือ Password ไม่ถูกต้อง"):"error2"==e?t("ไม่สามารถเข้าสู่ระบบได้"):"error3"==e?t("กรุณากรอกข้อมูลให้ครบ"):"error4"==e?t('กรุณาทำการ Activate ระบบก่อน โดยเข้าไปที่เมนู "ส่งรหัสยืนยัน"'):"error"==e?t("ระบบมีปัญหาไม่สามารถดำเนินการได้"):window.location.reload()}var regExp1=new RegExp("[^A-Za-z0-9_]"),regExp2=new RegExp("[!$<>`/'\"?.&=%@#*(),:;~^0-9]"),regExp3=new RegExp("[!$<>`/'\"?.&=%@#*(),:;~]"),regExp4=new RegExp("[^0-9]"),regExp5=new RegExp("[^0-9.,]"),regExp6=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,regExp7=new RegExp("[!$<>`/'\"?.&=%@#*():;~]"),regExp8=new RegExp("['\"]"),regExp9=new RegExp("[&`:<>'\"+#%@/;?|~]"),regExp10=new RegExp("[^@A-Za-z0-9_]"),regExp11=/((http|https|ftp):\/\/[A-Za-z0-9\.-]{3,}\.[A-Za-z]{2,3})|((http|https|ftp):\/\/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})/,regExp12=new RegExp("[^@A-Za-z0-9_.]"),regExp13=new RegExp("[^A-Za-z0-9_.:= #+-]@"),regExp14=new RegExp("[^A-Za-z ]"),regExp15=new RegExp("[!$<>`/'\"?&=%@#*:;~]"),regExp16=new RegExp("[^A-Za-z. ]"),tip_list=new Array,validate=new Array,url_before="",progress_time,tab_num=new Array,tab_selected=new Array,slide_menu_lastClick="";timestamp="2017-03-07",main_search_autocomplete_script_injected=!1,tw_image_panorama={currentTarget:!1},tw_image_panorama.init=function(e){e=void 0===e?".tw-image-panorama-view":e,$(e).each(function(){function e(t){if(r=$(t).data("options"),requestAnimationFrame(function(){e(t)}),!r.manualControl&&!r.breakTime){var i=r.startX-r.endX,a=r.startY-r.endY,o=.2;i>15?r.longitude+=o:i<-15&&(r.longitude-=o),a>15?r.latitude-=o:a<-15&&(r.latitude+=o)}r.latitude=Math.max(-85,Math.min(85,r.latitude)),r.camera.target.x=500*Math.sin(THREE.Math.degToRad(90-r.latitude))*Math.cos(THREE.Math.degToRad(r.longitude)),r.camera.target.y=500*Math.cos(THREE.Math.degToRad(90-r.latitude)),r.camera.target.z=500*Math.sin(THREE.Math.degToRad(90-r.latitude))*Math.sin(THREE.Math.degToRad(r.longitude)),r.camera.lookAt(r.camera.target),r.renderer.render(r.scene,r.camera)}function t(e){var t=e.target;if(tw_image_panorama.currentTarget=!1,$(t).hasClass("tw-canvas-panorama-view")){tw_image_panorama.currentTarget=t,$(t).closest(".tw-canvas-panorama-view-block").addClass("active");var i=e.clientX,a=e.clientY;"touchstart"==e.type&&(i=e.originalEvent.changedTouches[0].clientX,a=e.originalEvent.changedTouches[0].clientY),r=$(t).data("options"),e.preventDefault(),r.manualControl=!0,r.savedX=i,r.savedY=a,r.startX=i,r.startY=a,r.savedLongitude=r.longitude,r.savedLatitude=r.latitude,clearTimeout(r.breakTimeout)}}function i(e){if(tw_image_panorama.currentTarget){r=$(tw_image_panorama.currentTarget).data("options");var t=.2;if(r.manualControl){var i=e.clientX,a=e.clientY;"touchmove"==e.type&&(i=e.originalEvent.changedTouches[0].clientX,a=e.originalEvent.changedTouches[0].clientY),r.longitude=(r.savedX-i)*t+r.savedLongitude,r.latitude=(a-r.savedY)*t+r.savedLatitude}}}function a(e){if(tw_image_panorama.currentTarget){var t=e.clientX,i=e.clientY;"touchend"==e.type&&(t=e.originalEvent.changedTouches[0].clientX,i=e.originalEvent.changedTouches[0].clientY),$(tw_image_panorama.currentTarget).closest(".tw-canvas-panorama-view-block").removeClass("active"),r=$(tw_image_panorama.currentTarget).data("options"),r.manualControl=!1,r.endX=t,r.endY=i}}var o,r,s=void 0!==$(this).data("src")&&$(this).data("src");s||(s=void 0!==$(this).attr("src")&&$(this).attr("src")),"IMG"==$(this).prop("tagName")&&s&&($(this).attr("src",""),$(this).after('<div class="tw-canvas-panorama-view-block"><div class="tw-canvas-panorama-view-loading"><div style="position: absolute;top: 50%;left: 50%;transform: translate(-50%,-50%);-webkit-transform: translate(-50%,-50%);-moz-transform: translate(-50%,-50%);" class="fountainG-block"><div class="fountainG fountainG_1"></div><div class="fountainG fountainG_2"></div><div class="fountainG fountainG_3"></div><div class="fountainG fountainG_4"></div><div class="fountainG fountainG_5"></div><div class="fountainG fountainG_6"></div><div class="fountainG fountainG_7"></div><div class="fountainG fountainG_8"></div></div></div><div class="tw-panorama-circle">360</div><canvas></div>'),o=$(this).next().find("canvas")[0],$(this).next().attr("style",$(this).attr("style")),$(o).addClass("tw-canvas-panorama-view"),$(this).remove(),$(o).data("options",{}),r=$(o).data("options"),r.manualControl=!1,r.longitude=0,r.latitude=0,r.startX=0,r.startY=0,r.endX=0,r.endY=0,r.breakTime=!1,r.breakTimeout=!1,r.imgLoader=new Image,r.imgLoader.onload=function(){var n=$(o).width(),l=$(o).height();r.renderer=new THREE.WebGLRenderer({canvas:o}),r.renderer.setSize(n,l),r.scene=new THREE.Scene,r.camera=new THREE.PerspectiveCamera(75,n/l,1,1e3),r.camera.target=new THREE.Vector3(0,0,0),
r.sphere=new THREE.SphereGeometry(100,100,40),r.sphere.applyMatrix((new THREE.Matrix4).makeScale(-1,1,1)),r.sphereMaterial=new THREE.MeshBasicMaterial,THREE.ImageUtils.crossOrigin="",r.sphereMaterial.map=THREE.ImageUtils.loadTexture(s,{},function(){$(o).closest(".tw-canvas-panorama-view-block").find(".tw-panorama-circle").show(),$(o).closest(".tw-canvas-panorama-view-block").find(".tw-canvas-panorama-view-loading").remove(),$(o).show(),r.sphereMesh=new THREE.Mesh(r.sphere,r.sphereMaterial),r.scene.add(r.sphereMesh),$(document).on("mousedown touchstart",t),$(document).on("mousemove touchmove",i),$(document).on("mouseup touchend",a),e(o)})},r.imgLoader.src=s)})},jQuery.fn.extend({insertAtCaret:function(e){return this.each(function(t){if(document.selection){this.focus();var i=document.selection.createRange();i.text=e,this.focus()}else if(this.selectionStart||"0"==this.selectionStart){var a=this.selectionStart,o=this.selectionEnd,r=this.scrollTop;this.value=this.value.substring(0,a)+e+this.value.substring(o,this.value.length),this.focus(),this.selectionStart=a+e.length,this.selectionEnd=a+e.length,this.scrollTop=r}else this.value+=e,this.focus()})},setCursorPosition:function(e,t){return t||(t=e),this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(e,t);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}})},getCursorPosition:function(){var e=$(this).get(0),t=0;if("selectionStart"in e)t=e.selectionStart;else if("selection"in document){e.focus();var i=document.selection.createRange(),a=document.selection.createRange().text.length;i.moveStart("character",-e.value.length),t=i.text.length-a}return t},serializefiles:function(){var e=$(this),t=new FormData;$.each($(e).find("input[type='file']"),function(e,i){$.each($(i)[0].files,function(e,a){t.append(i.name,a)})});var i=$(e).serializeArray();return $.each(i,function(e,i){t.append(i.name,i.value)}),t}});var getYoutubeID=function(e){if(e){var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??(v=)?([^#\&\?]*).*/,i=e.match(t);return!(!i||11!=i[8].length)&&i[8]}return!1},crtg_nid="4878",crtg_cookiename="crtg_rta",crtg_varname="crtg_content",crtg_content=crtg_getCookie(crtg_cookiename),crtg_rnd=Math.floor(99999999999*Math.random());!function(){var e=location.protocol+"//rtax.criteo.com/delivery/rta/rta.js?netId="+escape(crtg_nid);e+="&cookieName="+escape(crtg_cookiename),e+="&rnd="+crtg_rnd,e+="&varName="+escape(crtg_varname);var t=document.createElement("script");t.type="text/javascript",t.src=e,t.async=!0,document.getElementsByTagName("head").length>0?document.getElementsByTagName("head")[0].appendChild(t):document.getElementsByTagName("body").length>0&&document.getElementsByTagName("body")[0].appendChild(t)}(),ckeditor_imageSlider={},ckeditor_imageSlider.windowWidth=0,ckeditor_imageSlider.timeout=!1,ckeditor_imageSlider.resizeTimeout=!1,ckeditor_imageSlider.imagePath="https://images.thaiware.com/",imageZoom={pswp:null,initialized:null,triggerWidth:728,init:function(){var e='<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title="Share"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><button class="pswp__button pswp__button--download" title="ดาวน์โหลดรูป">ดาวน์โหลดรูป</button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"><img src="'+url_script+'photoswipe/default-skin/arrow-left.png" alt="arrow left"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"><img src="'+url_script+'photoswipe/default-skin/arrow-right.png" alt="arrow right"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><style>.pswp__button--download{background:none !important;color:white;background-image: none !important;}.image-zoomable{cursor: -webkit-zoom-in !important;}.pswp__bg{background-color: rgba(255,255,255,0.9);}.pswp__top-bar{/*display: none !important;*/}.pswp__button--arrow--left:before,.pswp__button--arrow--right:before {left: 0;width: 100% !important;height: 100% !important;background-color: transparent !important;background: none !important;}.pswp__button--arrow--left,.pswp__button--arrow--right{height: auto !important;width: auto !important;}</style>';$(".pswp").length<=0&&$("body").append(e),imageZoom.listener(),imageZoom.initialized=!0},listener:function(){var e=".image-zoomable,.slide-zoomable[jssor-slider=true] .slides[u=slides] > div";$(window).width()<=imageZoom.triggerWidth&&$("#detail-tab1 img[src*=upload_misc]").each(function(){$(this).closest("a").length<=0&&!$(this).hasClass("image-zoomable")&&$(this).addClass("image-zoomable")}),$(e).off("click",imageZoom.onClick).on("click",imageZoom.onClick)},onClick:function(e){e.preventDefault();var t,i=document.querySelectorAll(".pswp")[0],a=[],o={barsSize:{top:0,bottom:"auto"},captionEl:!1,shareEl:!1,downloadEl:!0,spacing:0,index:0};$(this).closest(".slide-zoomable").length>0?(o.index=$(this).closest(".slide-zoomable[jssor-slider=true]").find(".slides[u=slides]:nth(1) > div").index(this)-1,$(this).closest(".slide-zoomable").find("img[u=image]").each(function(){t=$(this).data("size-lg").split("x"),a.push({src:void 0!=$(this).data("src-lg")&&""!=$(this).data("src-lg")?$(this).data("src-lg"):$(this).attr("src2"),msrc:$(this).attr("src2"),w:t[0],h:t[1],el:this,isSlide:!0})})):"IMG"==$(this).prop("tagName")?a.push({src:$(this).attr("src"),msrc:$(this).attr("src"),w:$(this).width(),h:$(this).height(),el:this}):(t=$(this).data("size").split("x"),a.push({src:$(this).attr("href"),msrc:$(this).find("img").attr("src"),w:t[0],h:t[1],el:$(this).find("img")[0]})),o.getThumbBoundsFn=function(e){var t=a[e].el,i=window.pageYOffset||document.documentElement.scrollTop,o=t.getBoundingClientRect();if(a[e].isSlide){var r=$(a[e].el).closest(".slides")[0].getBoundingClientRect(),s=$(a[e].el).closest(".slides").width(),n=$(a[e].el).closest(".slides").height(),l=$(a[e].el).width(),c=$(a[e].el).height(),d=r.left,m=r.top+i;l<s&&(d+=(s-l)/2),c<n&&(m+=(n-c)/2);var p=$(a[e].el).closest(".ckeditor-imageSlider.slider-container[jssor-slider=true]");if(p.length>0&&void 0!=$(a[e].el).closest(".ckeditor-imageSlider.slider-container[jssor-slider=true]").data("options")){var _=$(a[e].el).closest(".ckeditor-imageSlider.slider-container[jssor-slider=true]").data("options").jssor;void 0!=_&&(_.$GoTo(e),p.find(".slide-page > div").text(Math.round(e+1)+" / "+p.find(".jssort01 .t").length))}return{x:d,y:m,w:o.width}}return{x:o.left,y:o.top+i,w:o.width}},imageZoom.pswp=new PhotoSwipe(i,PhotoSwipeUI_Default,a,o),imageZoom.pswp.init()}},$(function(){($(".image-zoomable,.slide-zoomable").length>0||$(window).width()<=imageZoom.triggerWidth)&&imageZoom.init(),ckeditor_imageSlider.windowWidth=$(window).width(),$(".ckeditor-imageSlider").length>0&&imageSlider_init(function(){imageZoom.initialized&&imageZoom.listener()}),$("div.spoiler-title").on("click",function(){var e=$(this).find(".spoiler-toggle");e.hasClass("show-icon")?e.removeClass("show-icon").addClass("hide-icon"):e.removeClass("hide-icon").addClass("show-icon"),$(this).parent().find(".spoiler-content").toggle()})});var tw_image_upload={};tw_image_upload.process_block="#tw_image_upload_process",tw_image_upload.preview_timeout=!1,tw_image_upload.image_preview_timeout=!1,tw_image_upload.uploadQueue={status:!1,queue:[]},tw_image_upload.init=function(e){$("#content_form").append('<form id="tw_upload_image_form" method="post" action="'+e+'" enctype="multipart/form-data"><input type="hidden" name="act" value="add"><input type="hidden" name="watermark" value=""><input type="hidden" name="watermark_theme" value=""><input accept="image/*" type="file" name="tw_upload[]" style="display: none;" multiple></form>'),$("#tw_image_upload_progressbar").progressbar({value:0}),$(document).bind("drop dragover",function(e){e.preventDefault()});var t="undefined"!=typeof tw_limit_size&&tw_limit_size>0?tw_limit_size:1e7;$("#tw_upload_image_form input[type=file]").fileupload({url:e,dataType:"json",type:"POST",maxFileSize:t,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,dropZone:$("#tw_image_upload_block"),autoUpload:!1,progressall:function(e,t){if("processing"!=tw_image_upload.uploadQueue.status){var i=parseInt(t.loaded/t.total*100,10);$("#tw_image_upload_progressbar").progressbar({value:i})}},add:function(e,i){function a(t,i){"add"==$("form:not(#tw_upload_image_form) input[name=act]").val()&&"0"==$("form:not(#tw_upload_image_form) input[name=module_id]").val()?t.uploadQueue.status?"processing"==t.uploadQueue.status&&(i.elem.remove(),t.uploadQueue.queue.push({e:e,data:i})):(t.uploadQueue.status="processing",i.submit()):i.submit()}$(tw_image_upload.process_block).css({color:"red","margin-left":"5px"}),progress(tw_image_upload.process_block,"");var o=null;$.each(i.files,function(e,a){var r=a.name.substring(a.name.lastIndexOf(".")+1).toLowerCase();i.elem=$('<div class="tw_image_block"><div style="height: initial;margin: 0 auto;position: absolute;left: 0;right: 0;top: 50%;width: 90%;transform: translate(0, -50%);text-align: center;pointer-events: none; color: rgb(255, 0, 0); background-color: rgb(238, 238, 238);"></div></div>').prependTo("#tw_image_content"),a.size<=t?"jpeg"!=r&&"png"!=r&&"gif"!=r&&"jpg"!=r?tw_image_upload.upload_error(i.elem[0],a,"รูปแบบไฟล์ ไม่ถูกต้อง"):o=!0:tw_image_upload.upload_error(i.elem[0],a,"ขนาดไฟล์เกินจำนวนที่กำหนด")}),o&&(window.location.pathname.indexOf("/admin/")>-1&&!tw_image_upload.uploadQueue.status?(progress(tw_image_upload.process_block),$.get("https://www.thaiware.com/admin/process.php").done(function(e){"session_timeout"!==e?(progress(tw_image_upload.process_block,""),a(tw_image_upload,i)):progress(tw_image_upload.process_block,"กรุณาเข้าสู่ระบบใหม่อีกครั้ง")}).fail(function(){progress(tw_image_upload.process_block,"การเชื่อมต่อกับเซิฟเวอร์ล้มเหลว")})):a(tw_image_upload,i))}}).prop("disabled",!$.support.fileInput).bind("fileuploadsubmit",function(e,t){$("#tw_image_upload_progressbar").progressbar({value:0}).fadeIn(),t.formData={act:"add",mode:$("input[name=mode]").val(),module_id:$("input[name=module_id]").val(),member_id:$("input[name=member_id]").val(),watermark:$("#tw_upload_image_form input[name=watermark]").val(),watermark_theme:$("#tw_upload_image_form input[name=watermark_theme]").val(),original_size:$("#tw_image_upload_original:checked").length>0?1:0}}).bind("fileuploaddone",function(e,t){$.each(t.result,function(e,i){"module_id"==e?($("form:not(#tw_upload_image_form) input[name=module_id]").val(i),$("form:not(#tw_upload_image_form) input[name=act]").val("edit")):"undefined"==typeof i.error||0==i.error||""==i.error?t.elem.replaceWith(i.html):"error_limit"==i.error?tw_image_upload.upload_error(t.elem[0],t.files[0],"เกินจำนวนไฟล์ที่สามารถอัพโหลดได้แล้ว"):"error_imgtype"==i.error?tw_image_upload.upload_error(t.elem[0],t.files[0],"รูปแบบไฟล์ ไม่ถูกต้อง"):"error_imgsize"==i.error?tw_image_upload.upload_error(t.elem[0],t.files[0],"ขนาดไฟล์เกินจำนวนที่กำหนด"):tw_image_upload.upload_error(t.elem[0],t.files[0],i.error)}),"function"==typeof tw_image_upload.done_callback&&tw_image_upload.done_callback(null,t)}).bind("fileuploadfail",function(e,t){tw_image_upload.uploadQueue.status=!1,tw_image_upload.upload_error(t.elem[0],t.files[0],t.errorThrown+" | "+t.textStatus),"function"==typeof tw_image_upload.done_callback&&tw_image_upload.done_callback(e,t)}).bind("fileuploadstop",function(e,t){if("processing"==tw_image_upload.uploadQueue.status){if(tw_image_upload.uploadQueue.status=!1,tw_image_upload.uploadQueue.queue.length){var i=[];for(var a in tw_image_upload.uploadQueue.queue)i.push(tw_image_upload.uploadQueue.queue[a].data.files[0]);i.length&&$("#tw_upload_image_form input[type=file]").fileupload("add",{files:i})}}else tw_image_upload.hideProgressBar()}),$.support.fileInput||$("#tw_image_upload_block .tw_btn_browse").removeClass("btn_link").addClass("btn_link_disabled"),$(document).on("mouseover","#tw_image_upload_block .tw_image_block",function(){tw_image_upload.image_preview_timeout!==!1&&clearTimeout(tw_image_upload.image_preview_timeout);var e=this,t=$(this).data("thumb");$("[id=tw_image_preview]").remove(),t&&($("body").append('<div style="display:none;" id="tw_image_preview"><img src="" /></div>'),$("#tw_image_preview img").attr("src",t).off("load").on("load",function(){var t=this;tw_image_upload.image_preview_timeout=setTimeout(function(){var i=$(e).offset().top,a=$(e).offset().left,o=$(e).height(),r=($(e).width(),5),s=10,n=i+r+o,l=a+s;if($("#tw_image_preview").css({top:n,left:l}).show(),$("#tw_image_preview").offset().top+$(t).height()>$(window).scrollTop()+$(window).height()&&$("#tw_image_preview").css("top",i-$(t).height()-r+"px"),$("#tw_image_preview").offset().left+$(t).width()>$(window).width()){var c=$("#tw_image_preview").offset().left+$(t).width()-$(window).width();$("#tw_image_preview").css("left",l-c-10+"px")}},500)}))}).on("mouseleave","#tw_image_upload_block .tw_image_block",function(){tw_image_upload.removeImagePreview()}),$(".watermark-ex-box").click(function(){$(".watermark-ex-box").removeClass("selected"),$(this).addClass("selected"),tw_image_upload.watermark_change()}),$.widget("custom.iconselectmenu",$.ui.selectmenu,{_renderItem:function(e,t){var i=$("<li>",{text:t.label});return t.disabled&&i.addClass("ui-state-disabled"),$("<span>",{style:t.element.attr("data-style"),"class":"ui-icon "+t.element.attr("data-class")}).appendTo(i),i.appendTo(e)}}),$("#watermark-theme").iconselectmenu({change:function(e,t){$(".watermark-ex-icon").css("background-image","url('"+$("#watermark-theme option:selected").data("img")+"')"),$("#tw_upload_image_form input[name=watermark_theme]").val(t.item.value)},close:function(e,t){$("#tw_image_upload_block .ui-selectmenu-text").html($("#tw_image_upload_block .ui-selectmenu-text").text()+"<span style=\"background-image: url('"+$("#watermark-theme option:selected").data("img")+'\');" class="ui-icon ui-icon-preview"></span>')}}).iconselectmenu("menuWidget").addClass("ui-menu-icons customicons"),$("#tw_upload_image_form input[name=watermark_theme]").val($("#watermark-theme option:selected").val()),$("#watermark-theme-button").addClass("watermark-ex").hide(),$("#tw_image_upload_block .ui-selectmenu-text").html($("#tw_image_upload_block .ui-selectmenu-text").text()+"<span style=\"background-image: url('"+$("#watermark-theme option:selected").data("img")+'\');" class="ui-icon ui-icon-preview"></span>')},tw_image_upload.removeImagePreview=function(){tw_image_upload.image_preview_timeout!==!1&&clearTimeout(tw_image_upload.image_preview_timeout),$("[id=tw_image_preview]").remove()},tw_image_upload.watermark_change=function(){var e;e=$("#form input[name=show_watermark]:checked").length>0?$(".watermark-ex-box.selected").data("pos"):"",$("#tw_upload_image_form input[name=watermark]").val(e)},tw_image_upload.upload_error=function(e,t,i){$(e).attr("style","text-align: center;word-break: break-all;padding: 15px;box-sizing: border-box;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;").html("ชื่อไฟล์ : "+t.name+'<div style="clear:both;height: 7px;"></div><span style="color: red;">'+i+"</span>"),setTimeout(function(){$(e).fadeOut(function(){$(this).remove()})},6e3)},tw_image_upload.hideProgressBar=function(){"undefined"!=typeof tw_image_upload.hideProgressBarTime&&clearTimeout(tw_image_upload.hideProgressBarTime),tw_image_upload.hideProgressBarTime=setTimeout(function(){$("#tw_image_upload_progressbar").fadeOut()},1e3)},tw_image_upload.browse_image=function(){$("#tw_upload_image_form input[name^=tw_upload]").click()},tw_image_upload.delete_image=function(e,t,i){confirm(t)&&(progress(tw_image_upload.process_block),$.get(encodeURI(e),{},function(e){"success"==e?(progress(tw_image_upload.process_block,""),$(i).closest(".tw_image_block").remove(),tw_image_upload.removeImagePreview()):"session_timeout"==e?(progress(tw_image_upload.process_block,"ไม่สามารถดำเนินการได้ กรุณาเข้าสู่ระบบอีกครั้ง"),window.location.assign(pre_dir+"login.php")):progress(tw_image_upload.process_block,e),$(".check,.check_all").removeAttr("disabled")}))};var vote_status=!0,vote_num,rate_int,rate_point,vote_status=!0,vote_num,rate_int,rate_point,text_watermark="กรอกความคิดเห็นของคุณที่นี่",text_del="ต้องการลบความคิดเห็นนี้",label_name="ชื่อของคุณ",label_description="ความคิดเห็นของคุณ",comment_btnSubmit="แสดงความคิดเห็น",comment_btnDel="ลบความคิดเห็นนี้";validate={};
//# sourceMappingURL=thaiware_main.min.js.map
